<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">



<!-- Head BEGIN -->
<head th:replace="header :: head">

</head>
<!-- Head END -->

<!-- Body BEGIN -->

<body class="ecommerce">

	<!-- BEGIN TOP BAR -->
	<div th:replace="header :: div.pre-header"></div>
	<!-- END TOP BAR -->

	<!-- BEGIN HEADER -->
	<div class="header" th:replace="header :: div.header"></div>
	<!-- end -->


	<div class="container" >
		<div class="row" style="display: flex ; justify-content: center ; ">
		
			<div class="col-sm-6 alert alert-info">
			
			<div th:if=${param.tt2}>
											<div class="alert alert-danger" role="alert">Nhập lại
												mật khẩu sai!!!</div>
										</div>
										<div th:if=${param.tt3}>
											<div class="alert alert-danger" role="alert">Mật khẩu
												hiện tại không đúng!!!</div>
										</div>
										<div th:if=${param.tt1}>
											<div class="alert alert-danger" role="alert">Đổi mật
												khẩu thành công!!!</div>
										</div>
			
			

				<h1 class="alert alert-info">THÔNG TIN CÁ NHÂN</h1>
				<form class="was-validated" th:action="@{/updateKh}" method="POST"
					th:object="${kh}" enctype="multipart/form-data">
					<div class="form-group">
						<input type="hidden" class="form-control"
							th:field="*{khachhangid}" readonly="true" />
					</div>
					<div class="form-group">
						<input type="hidden" class="form-control" th:field="*{taikhoan}"
							readonly="true" />
					</div>

					<div class="form-group has-success has-feedback "  >
						<label>Họ tên </label> 
						<input  type="text" class="form-control" 
							th:field="*{khachhangten}" required   />
					 <span class="glyphicon glyphicon-user form-control-feedback"></span>
					</div>
					
	<!-- 				 <div class="form-group has-success has-feedback">
      <div class="col-sm-10">
        <input type="text" class="form-control" id="inputSuccess">
        <span class="glyphicon glyphicon-ok form-control-feedback"></span>
      </div>
    </div> -->
					
					<br>
					<!-- <div class="form-group">
					<label>Email: </label> 
					<input type="email" class="form-control"  th:field="*{khachhangemail}"  required/>
				</div> -->
				
					<div class="form-group has-success has-feedback" >
						<label>SĐT:</label> <input type="number" min="100000000"
							class="form-control" th:field="*{khachhangsdt}" required  />
								 <span class="glyphicon glyphicon-earphone form-control-feedback"></span>
					</div>
					<br>
					
					<div class="form-group has-success has-feedback" >
						<input type="hidden" 
							class="form-control" th:field="*{trangthai}" required  />
								 
					</div>
					<br>



					<div class="form-group">
						<label>Ảnh hiện tại: </label>
						<div>
							<img th:src="${kh.khachhanganh}" alt="..." width="100"
								height="=100" /> <br> <label>Chọn ảnh mới: </label> <input
								type="file" name="file"
								onchange="document.getElementById('blah1').src = window.URL.createObjectURL(this.files[0])">

							<img id="blah1" width="100" height="100"> <input
								type="hidden" class="form-control" th:field="*{khachhanganh}" />
						</div>
					</div>
					<br>

					<div class="form-group">
						<label>Địa chỉ: </label>
						<textarea th:field="*{khachhangdiachi}" class="form-control"
							id="exampleFormControlTextarea1" rows="3"
							placeholder="Địa chỉ chi tiết" required>  </textarea>
					</div>
					<div class="class="form-group"">



						<div class="form-group">
							<label for="exampleInputEmail1">Khu vực giao hàng</label> <select
								th:field="*{khuvucghid}" required>
								<option value="">...</option>

								<option th:each="kvgh : ${kvgh}" th:value="${kvgh.id}"
									th:text="${kvgh.name}+-----+${kvgh.thoigian}+-phut"></option>
							</select>
						</div>


					</div>

					<br>
					<button type="submit" class="btn btn-primary">Cập nhật
						thông tin</button>
				</form>
				<br> 
				
		<!-- <div style="display: flex ; justify-content: flex-start ;"> -->
				<label>Email: </label>
				<form class="was-validated" th:action="@{/doiEmail}" method="POST"
					th:object="${taikhoan}">

					<div class="form-group has-success has-feedback">
						<input type="text" class="form-control" th:field="*{email}"
							required />
							<span class="glyphicon glyphicon-envelope form-control-feedback"></span>
					</div>

					<button type="submit" class="btn btn-primary">Đổi email</button>
								
				</form>
<br>

				<!-- Button trigger modal -->
				<button type="button" class="btn btn-success" data-toggle="modal"
					data-target="#exampleModal">Đổi mật khẩu
				</button>

				<!-- Modal -->
				<div class="modal fade" id="exampleModal" tabindex="-1"
					aria-labelledby="exampleModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h4 class="modal-title" id="exampleModalLabel">Đổi mật khẩu</h4>
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">

								<div class="col-sm-12 bg-danger">
									<!-- <h1 class="alert alert-danger ">Đổi mật khẩu</h1> -->
									<form class="was-validated" th:action="@{/doimk}" method="POST"
										th:object="${kh}">

										
										<div class="form-group">
											<input type="hidden" class="form-control"
												th:field="*{taikhoan}" readonly="true" />
										</div>
										<div class="form-group has-success has-feedback" >
											<label>Mật khẩu hiện tại: </label> <input type="password"
												class="form-control" name="password" />
													<span class="glyphicon glyphicon-lock form-control-feedback"></span>
										</div> 
										<div class="form-group has-success has-feedback">
											<label>Mật khẩu mới: </label> <input type="password"
												class="form-control" name="newpass" />
												<span class="glyphicon glyphicon-refresh form-control-feedback"></span>
										</div>
										<div class="form-group has-success has-feedback">
											<label>Nhập lại mật khẩu: </label> <input type="password"
												class="form-control" name="cpass" />
												<span class="glyphicon glyphicon-refresh form-control-feedback"></span>
										</div>
										<br>
										<button type="submit" class="btn btn-danger">Đổi mật
											khẩu</button>
									</form>
									
									
									
									<hr>
								</div>
								

							</div>
							
							
							<div class="modal-footer">
							
								<!--  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button> -->
							</div>
						</div>
					</div>
				</div>
				<!-- button --> 
<!-- </div> -->

						<div class="text-danger h5">
										Cập nhật thông tin cá nhân sẽ cập nhật thông tin người nhận của đơn hàng hiện tại
						</div>
			</div>



		</div>


	</div>


	<!-- BEGIN PRE-FOOTER -->
	<div th:replace="header :: pre-footer"></div>
	<!-- END PRE-FOOTER -->

	<!-- BEGIN FOOTER -->

	<!-- END FOOTER -->

	<!-- BEGIN fast view of a product -->

	<!-- END fast view of a product -->

	<div th:replace="header :: script_kh"></div>
</body>
<!-- END BODY -->
</html>